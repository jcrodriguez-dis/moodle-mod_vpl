define("mod_vpl/vplidefile",["exports","jquery","jqueryui","mod_vpl/vplutil","mod_vpl/vplui","mod_vpl/vplidecodefile","mod_vpl/vplideblocklyfile","mod_vpl/vplidebinaryfile"],(function(_exports,_jquery,_jqueryui,_vplutil,_vplui,_vplidecodefile,_vplideblocklyfile,_vplidebinaryfile){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * File management
   *
   * @copyright 2013 Juan Carlos Rodríguez-del-Pino
   * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   * @author Juan Carlos Rodríguez-del-Pino <jcrodriguez@dis.ulpgc.es>
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.VPLFile=void 0,_jquery=_interopRequireDefault(_jquery),_jqueryui=_interopRequireDefault(_jqueryui);_exports.VPLFile=function(id,name,value,fileManager,vplIdeInstance){var tid="#vpl_file"+id,tabnameid="#vpl_tab_name"+id,fileName=name,modified=!0,opened=!1,langType="text",self=this;this.getContent=function(){return value},this.setContent=function(c){value=c},this.getFileManager=function(){return fileManager},this.getFileName=function(){return fileName},this.getId=function(){return id},this.getTabNameId=function(){return tabnameid},this.getTId=function(){return tid},this.getFileName=function(){return fileName},this.isModified=function(){return modified},this.resetModified=function(){modified=!1,this.showFileName()},this.setModified=function(){modified=!0,this.showFileName()},this.getTabPos=function(){return fileManager.getTabPos(this)},this.setLang=function(lang){langType=lang},this.getLang=function(){return langType},this.isOpen=function(){return opened},this.setOpen=function(openState){opened=openState},this.getVPLIDE=function(){return vplIdeInstance},this.change=function(){modified||(this.setModified(),fileManager.generateFileList(),this.showFileName(),_vplutil.VPLUtil.longDelay("setModified",fileManager.setModified))},this.setFileName=function(name){return!!_vplutil.VPLUtil.validPath(name)&&(name!=fileName&&(fileName=name,self.change()),this.setReadOnly(fileManager.isReadOnly(name)),!this.isOpen()||(this.showFileName(),this.langSelection(),!0))},this.showFileName=function(){var name=this.getFileName(),fn=_vplutil.VPLUtil.getFileName(name);fn.length>20&&(fn=fn.substring(0,16)+"...");var html=(modified?_vplui.VPLUI.iconModified():"")+fn;this.isReadOnly()?html+=_vplui.VPLUI.iconReadOnly():this.getId()<fileManager.minNumberOfFiles&&(html+=_vplui.VPLUI.iconRequired()),html+=_vplui.VPLUI.iconClose(),(0,_jquery.default)(tabnameid+" a").html(html),fn!=name&&(0,_jquery.default)(tabnameid+" a").attr("title",name),_vplutil.VPLUtil.afterAll("adjustTabsTitles"+self.id,(function(){fileManager.adjustTabsTitles(!0),_vplutil.VPLUtil.delay("adjustTabsTitles"+self.id,(function(){self.adjustSize()}))}))},this.destroy=function(){(0,_jquery.default)(tabnameid).remove(),(0,_jquery.default)(tid).remove()},this.adjustSize=function(){if(!this.isOpen())return!1;var editTag=(0,_jquery.default)(tid),tabs=editTag.parent();if(0===editTag.length)return!1;var editorHeight=editTag.height(),editorWidth=editTag.width(),newHeight=tabs.height();newHeight-=editTag.position().top;var newWidth=(0,_jquery.default)("#vpl_tabs_scroll").width();return(newHeight!=editorHeight||newWidth!=editorWidth)&&((0,_jquery.default)(editTag).height(newHeight),(0,_jquery.default)(editTag).width(newWidth),!0)},this.updateStatus=_vplui.VPLUI.hideIDEStatus,this.gotoLine=_vplutil.VPLUtil.doNothing,this.setReadOnly=_vplutil.VPLUtil.doNothing,this.isReadOnly=_vplutil.VPLUtil.returnFalse,this.focus=_vplui.VPLUI.hideIDEStatus,this.blur=_vplutil.VPLUtil.doNothing,this.undo=_vplutil.VPLUtil.doNothing,this.redo=_vplutil.VPLUtil.doNothing,this.selectAll=_vplutil.VPLUtil.doNothing,this.open=_vplutil.VPLUtil.doNothing,this.hasUndo=_vplutil.VPLUtil.returnFalse,this.hasRedo=_vplutil.VPLUtil.returnFalse,this.hasSelectAll=_vplutil.VPLUtil.returnFalse,this.hasFind=_vplutil.VPLUtil.returnFalse,this.hasFindReplace=_vplutil.VPLUtil.returnFalse,this.hasNext=_vplutil.VPLUtil.returnFalse,this.find=_vplutil.VPLUtil.doNothing,this.replace=_vplutil.VPLUtil.doNothing,this.next=_vplutil.VPLUtil.doNothing,this.getAnnotations=function(){return[]},this.setAnnotations=_vplutil.VPLUtil.doNothing,this.setFontSize=_vplutil.VPLUtil.doNothing,this.setTheme=_vplutil.VPLUtil.doNothing,this.clearAnnotations=_vplutil.VPLUtil.doNothing,this.langSelection=_vplutil.VPLUtil.doNothing,this.isBinary=_vplutil.VPLUtil.returnFalse,this.extendToCodeEditor=_vplidecodefile.codeExtension,this.extendToBlockly=_vplideblocklyfile.blocklyExtension,this.extendToBinary=_vplidebinaryfile.binaryExtension}}));

//# sourceMappingURL=vplidefile.min.js.map