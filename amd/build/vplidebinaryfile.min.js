define("mod_vpl/vplidebinaryfile",["exports","jquery","mod_vpl/vplutil"],(function(_exports,_jquery,_vplutil){var obj;
/**
   * Binary files extension methods. Add to VPLFile object.
   *
   * @copyright 2013 Juan Carlos Rodríguez-del-Pino
   * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   * @author Juan Carlos Rodríguez-del-Pino <jcrodriguez@dis.ulpgc.es>
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.binaryExtension=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};_exports.binaryExtension=function(){var type2HTML={img:"<img />",audio:"<audio controls></audio>",video:"<video controls></video>",binary:"<div></div>"};this.isBinary=function(){return!0},this.getType=function(){return _vplutil.VPLUtil.isImage(this.getFileName())?"img":_vplutil.VPLUtil.isAudio(this.getFileName())?"audio":_vplutil.VPLUtil.isVideo(this.getFileName())?"video":"binary"};var setOldContent=this.setContent;this.setContent=function(c){setOldContent.call(this,c),this.setModified(),this.updateDataURL()},this.updateDataURL=function(type,fileName,value){var tid=this.getTId(),prevalue="data:"+_vplutil.VPLUtil.getMIME(fileName)+";base64,";(0,_jquery.default)(tid).find(type).attr("src",prevalue+value)},this.adjustSize=function(){if(!this.isOpen())return!1;var editTag=(0,_jquery.default)(this.getTId());if(0===editTag.length)return!1;var newHeight=editTag.parent().height();return(newHeight-=editTag.position().top)!=editTag.height()&&(editTag.height(newHeight),!0)},this.open=function(){this.showFileName();var tid=this.getTId();this.setOpen(!0);var type=this.getType();(0,_jquery.default)(tid).addClass("vpl_ide_"+type).append(type2HTML[type]),"binary"===type?(0,_jquery.default)(tid).find("div").text(_vplutil.VPLUtil.str("binaryfile")+": '"+this.getFileName()+"'"):this.updateDataURL(type,this.getFileName(),this.getContent())},this.close=function(){this.setOpen(!1)},this.langSelection=function(){this.setLang("Binary")}}}));

//# sourceMappingURL=vplidebinaryfile.min.js.map