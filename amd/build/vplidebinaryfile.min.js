define("mod_vpl/vplidebinaryfile",["exports","jquery","mod_vpl/vplutil"],(function(_exports,_jquery,_vplutil){var obj;
/**
   * Binary files extension methods. Add to VPLFile object.
   *
   * @copyright 2013 Juan Carlos Rodríguez-del-Pino
   * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   * @author Juan Carlos Rodríguez-del-Pino <jcrodriguez@dis.ulpgc.es>
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.binaryExtension=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};_exports.binaryExtension=function(){this.isBinary=function(){return!0};var setOldContent=this.setContent;this.setContent=function(c){setOldContent.call(this,c),this.setModified(),this.updateDataURL()},this.updateDataURL=function(){var fileName=this.getFileName(),value=this.getContent(),tid=this.getTId();if(_vplutil.VPLUtil.isImage(fileName)){var prevalue="data:"+_vplutil.VPLUtil.getMIME(fileName)+";base64,";(0,_jquery.default)(tid).find("img").attr("src",prevalue+value)}else(0,_jquery.default)(tid).find("img").attr("src","")},this.adjustSize=function(){if(!this.isOpen())return!1;var editTag=(0,_jquery.default)(this.getTId());if(0===editTag.length)return!1;var newHeight=editTag.parent().height();return(newHeight-=editTag.position().top)!=editTag.height()&&(editTag.height(newHeight),!0)},this.open=function(){this.showFileName();var fileName=this.getFileName(),tid=this.getTId();this.setOpen(!0),_vplutil.VPLUtil.isImage(fileName)?((0,_jquery.default)(tid).addClass("vpl_ide_img").append("<img />"),this.updateDataURL()):(0,_jquery.default)(tid).addClass("vpl_ide_binary").text(_vplutil.VPLUtil.str("binaryfile"))},this.close=function(){this.setOpen(!1)},this.langSelection=function(){this.setLang("Binary")}}}));

//# sourceMappingURL=vplidebinaryfile.min.js.map